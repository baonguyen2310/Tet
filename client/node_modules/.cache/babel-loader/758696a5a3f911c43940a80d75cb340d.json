{"ast":null,"code":"import _objectSpread from\"/home/bao/webProject/my-app/projectTet/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/bao/webProject/my-app/projectTet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Modal,TextareaAutosize,Button,TextField}from'@material-ui/core';import{useSelector,useDispatch}from'react-redux';import{modalState$}from'../../redux/selectors';import useStyles from'./styles';import{createPost,hideModal}from'../../redux/actions';import FileBase64 from'react-file-base64';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreatePostModal(){var _useSelector=useSelector(modalState$),isShow=_useSelector.isShow;console.log({isShow:isShow});var classes=useStyles();var _React$useState=React.useState({title:\"\",content:\"\",attachment:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var dispatch=useDispatch();var onClose=React.useCallback(function(){dispatch(hideModal());setData({title:\"\",content:\"\",attachment:\"\"});},[dispatch]);var onSubmit=React.useCallback(function(){dispatch(createPost.createPostRequest(data));},[data,dispatch]);var body=/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,id:\"simple-modal-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Post\"}),/*#__PURE__*/_jsxs(\"form\",{noValidate:true,autoComplete:\"off\",className:classes.form,children:[/*#__PURE__*/_jsx(TextField,{className:classes.title,required:true,label:\"Title\",value:data.title,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(TextareaAutosize,{rowsMin:10,rowsMax:15,placeholder:\"Content...\",value:data.content,onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{content:e.target.value}));}}),/*#__PURE__*/_jsx(FileBase64,{accept:\"image/*\",multiple:false,type:\"file\",value:data.attachment,onDone:function onDone(_ref){var base64=_ref.base64;return setData(_objectSpread(_objectSpread({},data),{},{attachment:base64}));}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",component:\"span\",fullWidth:true,onClick:onSubmit,children:\"Create\"})]})]});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Modal,{open:isShow,onClose:onClose,children:body})});}","map":{"version":3,"sources":["/home/bao/webProject/my-app/projectTet/client/src/components/CreatePostModal/index.js"],"names":["React","Modal","TextareaAutosize","Button","TextField","useSelector","useDispatch","modalState$","useStyles","createPost","hideModal","FileBase64","CreatePostModal","isShow","console","log","classes","useState","title","content","attachment","data","setData","dispatch","onClose","useCallback","onSubmit","createPostRequest","body","paper","form","e","target","value","base64"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Modal, TextareaAutosize, Button, TextField } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { modalState$ } from '../../redux/selectors';\nimport useStyles from './styles';\nimport { createPost, hideModal } from '../../redux/actions';\nimport FileBase64 from 'react-file-base64';\n\nexport default function CreatePostModal(){\n    const { isShow } = useSelector(modalState$);\n    console.log({isShow});\n\n    const classes = useStyles();\n\n    const [data, setData] = React.useState({\n        title: \"\",\n        content:\"\",\n        attachment:\"\"\n    });\n\n    const dispatch = useDispatch();\n    const onClose = React.useCallback(() => {\n        dispatch(hideModal());\n        setData({\n            title: \"\",\n            content:\"\",\n            attachment:\"\"\n        })\n    }, [dispatch]);\n\n    const onSubmit = React.useCallback(() => {\n        dispatch(createPost.createPostRequest(data))\n    }, [data, dispatch]);\n\n    const body = (\n        <div className={classes.paper} id=\"simple-modal-title\">\n            <h2>Create New Post</h2>\n            <form noValidate autoComplete='off' className={classes.form}>\n                <TextField \n                    className={classes.title} \n                    required \n                    label='Title' \n                    value={data.title}\n                    onChange={(e) => setData({...data, title: e.target.value})}\n                />\n                <TextareaAutosize \n                    rowsMin={10}\n                    rowsMax={15}\n                    placeholder='Content...'\n                    value={data.content}\n                    onChange={(e) => setData({...data, content: e.target.value})}\n                />\n                <FileBase64 \n                    accept=\"image/*\"\n                    multiple={false}\n                    type=\"file\"\n                    value={data.attachment}\n                    onDone={({ base64 }) => setData({ ...data, attachment: base64 })}\n                />\n\n                <Button \n                    variant='contained' \n                    color='primary' \n                    component='span' \n                    fullWidth\n                    onClick={onSubmit}\n                    >\n                    Create\n                </Button>\n            </form>\n        </div>\n    );\n    return (\n        <div>\n            <Modal open={isShow} onClose={onClose}>\n                {body}\n            </Modal>\n        </div>   \n    )\n}"]},"metadata":{},"sourceType":"module"}